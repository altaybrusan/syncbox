main
	Config
	HID_Enable
		GetMaxStrignDscIndex
			GetMaxIndexInDevDsc
			GetMaxIndexInConfigDsc
		USB_Device_Init
			USB_Init_Desc
			USB_Disable_Non_Zero_Endpoints
				USB_memset
			USB_Configure
		USB_Attach_Device
			USB_Configure
	EnterBootloaderMode
		USB_Polling_Proc
			USB_Device_Service
				USB_Clear_Interrupt
				USB_Configure
				USB_Wake_From_Suspend
					USB_CB_Handler
						USB_CB_Init_EP
							USB_Enable_Endpoint
								USB_Configure_Endpoint
							USB_Transfer_Packet
						USB_CB_Check_Other_Req
							USB_Check_HID_Request
								USB_EP0_Send_ROM
								USB_EP0_Send_RAM
								USB_EP0_Transmit_Options
				USB_Device_Init
				USB_Suspend
					USB_CB_Handler
				USB_CB_Handler
				USB_Stall_Handler
				USB_Ctrl_EPService
					USB_CtrlTrf_Setup_Handler
						USB_Check_Std_Request
							USB_Get_Dsc_Handler
							USB_Set_Cfg_Handler
								USB_Disable_Non_Zero_Endpoints
								USB_memset
								USB_CB_Handler
							USB_Get_Status_Handler
							USB_Std_Feature_Req_Handler
								USB_CB_Handler
							USB_CB_Handler
						USB_CB_Handler
						USB_CtrlEP_Service_Complete
							USBCtrlEPAllowDataStage
								USB_CtrlTrf_Tx_Service
							USBCtrlEPAllowStatusStage
					USB_CtrlTrf_Out_Handler
						USB_CtrlTrf_Rx_Service
							USBCtrlEPAllowStatusStage
					USB_CtrlTrf_In_Handler
						USB_CtrlTrf_Tx_Service
		HID_Read
			Gen_Read
				USB_Handle_Busy
				USB_Transfer_Packet
		Check4Cmd
		SendACK
			HID_Write
				Gen_Write
					USB_Handle_Busy
					USB_Transfer_Packet
					USB_Polling_Proc
		Delay_10ms
		SendBootInfo
			HID_Write
		Delay_1ms
	HID_Disable
		USB_Disable_Module
	Delay_10ms
	StartProgram
	StartBootloader
		USB_Polling_Proc
		HID_Read
		Check4Cmd
		GetData
		_Buffer_SaveToFlash
			FLASH_Write_Compact
				FLASH_Write_DoWrite
					KeySequence
		SendACK
		FLASH_Erase
			FLASH_Write_DoWrite
