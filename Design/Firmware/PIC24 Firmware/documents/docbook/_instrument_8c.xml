<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_instrument_8c">
    <title>Instrument.c File Reference</title>
    <programlisting>#include &quot;Instrument.h&quot;</programlisting>
    <programlisting>#include &quot;Kernel.h&quot;</programlisting>
    <programlisting>#include &quot;GulmayAPI.h&quot;</programlisting>
    <programlisting>#include &quot;StoneAPI.h&quot;</programlisting>
    <programlisting>#include &quot;DeltaServoAPI.h&quot;</programlisting>
    <programlisting>#include &quot;ConnectionMap.h&quot;</programlisting>
    <programlisting>#include &quot;stdbool.h&quot;</programlisting>
<para>Include dependency diagram for Instrument.c</para>
<para>
    <figure>
        <title>Dependency diagram</title>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="1" fileref="_instrument_8c__incl.png"></imagedata>
            </imageobject>
        </mediaobject>
    </figure>
</para>
<para>Included by dependency diagram for Instrument.c</para>
<para>
    <figure>
        <title>Dependency diagram</title>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="1" fileref="_instrument_8c__dep__incl.png"></imagedata>
            </imageobject>
        </mediaobject>
    </figure>
</para>
        <section>
            <title> Data Structures </title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="struct_d_i_s_p___s_t_a_t_e">DISP_STATE</link></para>
<para><emphasis>display state variable type.</emphasis></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="struct_g_e_n___s_t_a_t_e">GEN_STATE</link></para>
<para><emphasis>Generator state type.</emphasis></para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <section>
            <title>Enumerations</title>
            <para>
                <itemizedlist>
                    <listitem>
                            <para><literallayout>enum <link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551">DISP_SCR</link> {
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551a84b1e56a5fdb2c268151c1d5618e496c">DISP_HOME</link>,
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ad1013f4b5b013c4c8f691cca71710959">DISP_AUTO_SCR</link>,
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ab96939cbc6576df381d1e99260df000c">DISP_SRV_SCR</link>
}</literallayout>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                            <para><literallayout>enum <link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511b">DISP_CMD</link> {
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba213b7bb27185238a3594308180970d8a">DISP_NO_CMD</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba0528fce503464b493abbc6a1a30fe015">DISP_STR_EXP</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511babe99c9d8f5315de6e9dda1234244d325">DISP_STP_EXP</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba1fa9ae4b007f8a05391610e82841ba29">DISP_STR_WRM</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba477eca8734318248b810482cf2ceb809">DISP_UDT_KVP</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba292ff031806faf29cc8f69c646500e24">DISP_UDT_mA</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baf687ff79ec7d43360677b0bb6c75ad91">DISP_UDT_TM</link>,
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baa604dc3ac06b636166edab370850721d">DISP_UDT_JOG</link>
}</literallayout>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                            <para><literallayout>enum <link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036">GEN_ERR</link> {
<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036ae7ea7c8a4f53ef82107d7e6372270a5f">GEN_NO_ERR</link>,
<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036aab763d4f346fa15c52defaf2d8573ceb">GEN_ERR</link>
}</literallayout>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                            <para><literallayout>enum <link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8">GEN_WRM_PRG</link> {
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8a135d1f2c531aaa7865d08d6b9bfcb6cc">GEN_NO_WRM</link>,
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8aaf14caafd4c6d40d91a0d433966be679">GEN_WRM_SRT</link>,
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8ade08f5f4269ef03f6e5a99e9e523a593">GEN_WRM_LNG</link>
}</literallayout>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                            <para><literallayout>enum <link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2">GEN_EXP_MODE</link> {
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">GEN_NO_EXPO</link>,
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a93053adea44e6fc53ecd95c9679836d4">GEN_KEY2</link>,
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a2e665a39626a498bfe84e714c9bbcc98">GEN_PRE</link>,
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2af931d7ba35af5b59ab40991445c3ddb3">GEN_SWC_NF</link>,
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a325d635cf0a00c4c5a00470ff220eb54">GEN_EXPOSING</link>
}</literallayout>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                            <para><literallayout>enum <link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2">GEN_FCL</link> {
<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2a8bfd4ffb253d5c3dc65c4dfc949581be">GEN_FIN_FCL</link>,
<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2aafe76023068c2d6e16216c29722815dd">GEN_BRD_FCL</link>
}</literallayout>
</para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <section>
            <title>Variables</title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><link linkend="struct_d_i_s_p___s_t_a_t_e">DISP_STATE</link> <link linkend="_instrument_8c_1aad739424f4d866dc098e490744d37e53">__DISP_STAT</link><para><emphasis>instace of display state variable.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para><link linkend="struct_g_e_n___s_t_a_t_e">GEN_STATE</link> <link linkend="_instrument_8c_1afe9a19151e49a5fb4337d674e83a6a0b">__GEN_STAT</link><para><emphasis>instace of generator state variable.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <section>
            <title>Functions</title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1ad442830d468e8519958f61a9fe8b68cb">StartInstrumentMonitor</link> (
)<para><emphasis>start instrument monitor periodic check.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1aa239e8ff1adf33ccc97f9429e83ac00a">StopInstrumentMonitor</link> (
)<para><emphasis>stop instrument monitor periodic check.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1aef2657ae0e96da42122431f360a771b0">InstrumentMonitor</link> (
)<para><emphasis>operations to be executed during periodic operation.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a7ccf8090b585b1cca5658182baa14818">UpdateState</link> (
)<para><emphasis>private function for updating state variables.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a9638a1c27e8bfd0c2fb002b4448ca230">OnGeneratorMessageEventTriggered</link> (
char * msg)<para><emphasis>Event handler for generator new message event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1abd73869307313dd276a760adb01ecd84">OnGeneratorExposureStopedEventTriggered</link> (
)<para><emphasis>Event handler for generator stop exposure event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a87fae197dd4bf032daa58e25bd27b960">OnGeneratorKvpUpdatedEventTriggered</link> (
int kvp)<para><emphasis>Event handler for generator update KVP event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1af47e8c6db4aa181276e336d2ba52aa5b">OnGeneratorModeEventTriggered</link> (
int mode)<para><emphasis>Event handler for generator update mode event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a3fa404eaddbc4e2b26068456a255ae80">OnGeneratormAUpdatedEventTriggered</link> (
int amp)<para><emphasis>Event handler for generator update milli-amper event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a4bc165a5cc6c324b8395c8d65745c4db">OnGeneratorPassedExposureTimeEventTriggered</link> (
int passedTime)<para><emphasis>Event handler for generator ellapsed exposure time notification.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a23be80842ff571441a39b44cf52880b5">OnGeneratorShootTimeEventTriggered</link> (
int shootTime)<para><emphasis>Event handler for generator shoot time event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1ad846dbf655cde950b44e287102b8f1f0">OnGeneratorExposureStartedEventTriggered</link> (
)<para><emphasis>Event handler for generator start exposure event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1ad242fcaf9f6b4a2b1495c37af301ce96">OnGeneratorErrorEventTriggered</link> (
char * error)<para><emphasis>Event handler for generator error event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a11a6cb180b6dbb99619e1aea04743a36">OnGeneratorWarmupFinishedEventTriggered</link> (
)<para><emphasis>Event handler for generator warmup finished event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a641dbae7f2049f9362fb83c22fe023f7">OnGeneratorRequiresShortWarmupEventTriggered</link> (
)<para><emphasis>Event handler for generator demands short warmup event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a1117b5233c95cb1b2ca9f611dd129816">OnGeneratorRequiresLongWarmupEventTriggered</link> (
)<para><emphasis>Event handler for generator demands for long warmup event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a5012d43bdbc97bae1fa8899667288c2b">OnGeneratorLargFocalSpotSizeEventTriggered</link> (
)<para><emphasis>Event handler for x-ray tube is using larg focal spot event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a4fc6a736dd04d1d1b63b0f583eb9ea17">OnGeneratorSmallFocalSpotSizeEventTriggered</link> (
)<para><emphasis>Event handler for x-ray tube is using small focal spot event.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1afc7eb1e24524218010de53587a3b298b">OnDisplayStartAutomaticModeEventTriggered</link> (
)<para><emphasis>event handler for automatic mode selection on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a59c5d6f4d42a37843db343a7041eadc5">OnDisplayGotoHomeEventTriggered</link> (
)<para><emphasis>event handler for go home selection on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a3f70ca48cf29b08368f959f8af8638aa">OnDisplayStartExposureEventTriggered</link> (
)<para><emphasis>event handler for start exposure selection on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a99167e2622817354b957f27ce2efae18">OnDisplayStopExposureEventTriggered</link> (
)<para><emphasis>event handler for stop exposure selection on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a5f47e92cf4585e7c569eab9d0bab16df">OnDisplayStartWarmupEventTriggered</link> (
)<para><emphasis>event handler for start warmup selection on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a3960e26ab66c45b3446bf50cfab91e78">OnDisplayUpdateKvpEventTriggered</link> (
int kvp)<para><emphasis>event handler for updating KVP on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1ad3d7aa1f2e8173c423aab6268e6193f2">OnDisplayUpdatemAEventTriggered</link> (
int ma)<para><emphasis>event handler for updating milli-amper on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a59ef45cf7c6e27c0813bf55bd5079753">OnDisplayUpdateTimeEventTriggered</link> (
int time)<para><emphasis>event handler for updating exposure time on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1aa94400d915b7eb851cfca7e9d8e220e0">OnDisplayUpdateJOGEventTriggered</link> (
int time)<para><emphasis>event handler for updating JOG on the screen.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1ae9f840c897f8c1814b774c59eceb01f3">ResetSystem</link> (
)<para><emphasis>private function that reset generator, motor, display and all devices.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>void <link linkend="_instrument_8c_1a44183aa55ed986e78680ae1fec9ec93a">StartInstrument</link> (
)<para><emphasis>start instrument. This function is called by Kernel.c at the end of bootup process.</emphasis></para>
</para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
    <simplesect>
        <title>Detailed Description</title>

<para>implement instrument </para>
    <para>Definition in file C:/Users/Altay/Documents/Altium/Projects/SyncBox/Work/Bogazici University/SyncBox/V3I1/Software/PIC24 Firmware/firmware/Instrument.c</para>
    </simplesect>
    <literallayout><computeroutput>
1 
6 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_instrument_8h">Instrument.h</link>&quot;</emphasis>
7 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_kernel_8h">Kernel.h</link>&quot;</emphasis>
8 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_gulmay_a_p_i_8h">GulmayAPI.h</link>&quot;</emphasis>
9 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_stone_a_p_i_8h">StoneAPI.h</link>&quot;</emphasis>
10 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_delta_servo_a_p_i_8h">DeltaServoAPI.h</link>&quot;</emphasis>
11 <emphasis class="preprocessor">#include&#32;&quot;<link linkend="_connection_map_8h">ConnectionMap.h</link>&quot;</emphasis>&#32;&#32;<emphasis class="comment">//&#32;just&#32;used&#32;for&#32;SendDebugMsg</emphasis>
12 <emphasis class="preprocessor">#include&#32;&quot;stdbool.h&quot;</emphasis>
13 
14 
15 <emphasis class="comment">//************************&#32;Internal&#32;State&#32;variables&#32;*********************</emphasis>
16 <emphasis class="comment">//typedef&#32;enum&#32;{</emphasis>
17 <emphasis class="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;WORKSTATION,</emphasis>
18 <emphasis class="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;DISPLAY</emphasis>
19 <emphasis class="comment">//}&#32;TERMINAL;</emphasis>
20 
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551">25 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">enum</emphasis>&#32;{
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551a84b1e56a5fdb2c268151c1d5618e496c">26 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551a84b1e56a5fdb2c268151c1d5618e496c">DISP_HOME</link>,&#32;&#32;&#32;&#32;&#32;
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ad1013f4b5b013c4c8f691cca71710959">27 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ad1013f4b5b013c4c8f691cca71710959">DISP_AUTO_SCR</link>,&#32;
<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ab96939cbc6576df381d1e99260df000c">28 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ab96939cbc6576df381d1e99260df000c">DISP_SRV_SCR</link>,&#32;&#32;
29 }&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551">DISP_SCR</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
30 
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511b">35 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">enum</emphasis>&#32;{
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba213b7bb27185238a3594308180970d8a">36 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba213b7bb27185238a3594308180970d8a">DISP_NO_CMD</link>,&#32;&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba0528fce503464b493abbc6a1a30fe015">37 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba0528fce503464b493abbc6a1a30fe015">DISP_STR_EXP</link>,&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511babe99c9d8f5315de6e9dda1234244d325">38 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511babe99c9d8f5315de6e9dda1234244d325">DISP_STP_EXP</link>,&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba1fa9ae4b007f8a05391610e82841ba29">39 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba1fa9ae4b007f8a05391610e82841ba29">DISP_STR_WRM</link>,&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba477eca8734318248b810482cf2ceb809">40 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba477eca8734318248b810482cf2ceb809">DISP_UDT_KVP</link>,&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba292ff031806faf29cc8f69c646500e24">41 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba292ff031806faf29cc8f69c646500e24">DISP_UDT_mA</link>,&#32;&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baf687ff79ec7d43360677b0bb6c75ad91">42 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baf687ff79ec7d43360677b0bb6c75ad91">DISP_UDT_TM</link>,&#32;&#32;
<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baa604dc3ac06b636166edab370850721d">43 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baa604dc3ac06b636166edab370850721d">DISP_UDT_JOG</link>,&#32;
44 }&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511b">DISP_CMD</link>;&#32;
45 
<link linkend="struct_d_i_s_p___s_t_a_t_e">50 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">struct&#32;</emphasis>
51 {
<link linkend="struct_d_i_s_p___s_t_a_t_e_1a8aadcc7541a9e80b0359d16f69cf8236">52 </link>&#32;&#32;&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551">DISP_SCR</link>&#32;<link linkend="struct_d_i_s_p___s_t_a_t_e_1a8aadcc7541a9e80b0359d16f69cf8236">DispScr</link>;&#32;
<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">53 </link>&#32;&#32;&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511b">DISP_CMD</link>&#32;<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>;&#32;
54 }<link linkend="struct_d_i_s_p___s_t_a_t_e">DISP_STATE</link>;
55 
<link linkend="_instrument_8c_1aad739424f4d866dc098e490744d37e53">57 </link><link linkend="struct_d_i_s_p___s_t_a_t_e">DISP_STATE</link>&#32;<link linkend="_instrument_8c_1aad739424f4d866dc098e490744d37e53">__DISP_STAT</link>;
58 <emphasis class="comment">//&#32;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</emphasis>
59 
<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036">64 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">enum</emphasis>&#32;{
<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036ae7ea7c8a4f53ef82107d7e6372270a5f">65 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036ae7ea7c8a4f53ef82107d7e6372270a5f">GEN_NO_ERR</link>,
<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036aab763d4f346fa15c52defaf2d8573ceb">66 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036">GEN_ERR</link>&#32;&#32;&#32;&#32;
67 }&#32;<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036">GEN_ERR</link>&#32;;&#32;&#32;&#32;
68 
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8">73 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">enum</emphasis>&#32;{
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8a135d1f2c531aaa7865d08d6b9bfcb6cc">74 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8a135d1f2c531aaa7865d08d6b9bfcb6cc">GEN_NO_WRM</link>,&#32;&#32;
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8aaf14caafd4c6d40d91a0d433966be679">75 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8aaf14caafd4c6d40d91a0d433966be679">GEN_WRM_SRT</link>,&#32;
<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8ade08f5f4269ef03f6e5a99e9e523a593">76 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8ade08f5f4269ef03f6e5a99e9e523a593">GEN_WRM_LNG</link>&#32;&#32;
77 }&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8">GEN_WRM_PRG</link>;&#32;&#32;<emphasis class="comment">//Generator&#32;warmup&#32;program</emphasis>
78 
79 <emphasis class="comment">/*</emphasis>
80 <emphasis class="comment">&#32;*&#32;\enum&#32;GEN_EXP_MODE</emphasis>
81 <emphasis class="comment">&#32;*&#32;Generator&#32;exposure&#32;state&#32;items.</emphasis>
82 <emphasis class="comment">&#32;*/</emphasis>
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2">83 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">enum</emphasis>&#32;{
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">84 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">GEN_NO_EXPO</link>,&#32;
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a93053adea44e6fc53ecd95c9679836d4">85 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a93053adea44e6fc53ecd95c9679836d4">GEN_KEY2</link>,&#32;&#32;&#32;&#32;
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a2e665a39626a498bfe84e714c9bbcc98">86 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a2e665a39626a498bfe84e714c9bbcc98">GEN_PRE</link>,&#32;&#32;&#32;&#32;&#32;
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2af931d7ba35af5b59ab40991445c3ddb3">87 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2af931d7ba35af5b59ab40991445c3ddb3">GEN_SWC_NF</link>,&#32;&#32;
<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a325d635cf0a00c4c5a00470ff220eb54">88 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a325d635cf0a00c4c5a00470ff220eb54">GEN_EXPOSING</link>&#32;
89 }&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2">GEN_EXP_MODE</link>;&#32;
90 
<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2">95 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">enum</emphasis>&#32;{
<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2a8bfd4ffb253d5c3dc65c4dfc949581be">96 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2a8bfd4ffb253d5c3dc65c4dfc949581be">GEN_FIN_FCL</link>,&#32;
<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2aafe76023068c2d6e16216c29722815dd">97 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2aafe76023068c2d6e16216c29722815dd">GEN_BRD_FCL</link>&#32;&#32;
98 }&#32;<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2">GEN_FCL</link>;
99 
<link linkend="struct_g_e_n___s_t_a_t_e">104 </link><emphasis class="keyword">typedef</emphasis>&#32;<emphasis class="keyword">struct</emphasis>
105 {
<link linkend="struct_g_e_n___s_t_a_t_e_1a3bb7e80af26fb5776952863bafb78143">106 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ac7c96d55fc91167731c77ca574178036">GEN_ERR</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1a3bb7e80af26fb5776952863bafb78143">GenErr</link>;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">107 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8">GEN_WRM_PRG</link>&#32;&#32;&#32;&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">108 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2">GEN_EXP_MODE</link>&#32;&#32;&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1adc2018c98e814cd74a4fdc3aff85ee65">109 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2">GEN_FCL</link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1adc2018c98e814cd74a4fdc3aff85ee65">GenFcl</link>;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1acad684317530204f542d4c3a38a2bd14">110 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1acad684317530204f542d4c3a38a2bd14">Kvp</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1a24ef6040c522c6f97f1db1d05fb49bc9">111 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1a24ef6040c522c6f97f1db1d05fb49bc9">mA</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1a7128626deeddd04ba49d46fab6fee7ca">112 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1a7128626deeddd04ba49d46fab6fee7ca">ShootTime</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1aff7521f9de16184d969636f3fc177aec">113 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1aff7521f9de16184d969636f3fc177aec">Jog</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1af6f8dff545b8abe1cf131cd3e050c8fc">114 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1af6f8dff545b8abe1cf131cd3e050c8fc">PassedExposureTime</link>;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1ae320a27fd5f5ff340abf6222918392bf">115 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>*&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1ae320a27fd5f5ff340abf6222918392bf">GenMsg</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1acffb6e8e6adb7d93362336c4c936f246">116 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>*&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1acffb6e8e6adb7d93362336c4c936f246">GenErrMsg</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<link linkend="struct_g_e_n___s_t_a_t_e_1a8c70ddfac989c98c7c1996b911c2528f">117 </link>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;GenMsgLen,&#32;<link linkend="struct_g_e_n___s_t_a_t_e_1a8c70ddfac989c98c7c1996b911c2528f">GenErrLen</link>;&#32;&#32;&#32;
118 
119 }&#32;<link linkend="struct_g_e_n___s_t_a_t_e">GEN_STATE</link>;&#32;<emphasis class="comment">//&#32;TODO:&#32;rename&#32;this&#32;to&#32;INST_STATE.&#32;because&#32;jog&#32;is&#32;not&#32;generator&#32;parameter.&#32;</emphasis>
120 
<link linkend="_instrument_8c_1afe9a19151e49a5fb4337d674e83a6a0b">122 </link>&#32;<link linkend="struct_g_e_n___s_t_a_t_e">GEN_STATE</link>&#32;<link linkend="_instrument_8c_1afe9a19151e49a5fb4337d674e83a6a0b">__GEN_STAT</link>;
123 
124 
125 <emphasis class="comment">//************************&#32;&#32;private&#32;functions&#32;****************************</emphasis>
126 
<link linkend="_instrument_8c_1ad442830d468e8519958f61a9fe8b68cb">128 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1ad442830d468e8519958f61a9fe8b68cb">StartInstrumentMonitor</link>()&#32;{
129 &#32;&#32;&#32;&#32;T4CON&#32;=&#32;0x00;
130 &#32;&#32;&#32;&#32;T5CON&#32;=&#32;0x0;
131 &#32;&#32;&#32;&#32;TMR4&#32;=&#32;0;
132 &#32;&#32;&#32;&#32;TMR5&#32;=&#32;0;
133 &#32;&#32;&#32;&#32;T5IE_bit&#32;=&#32;1;
134 &#32;&#32;&#32;&#32;T5IF_bit&#32;=&#32;0;
135 &#32;&#32;&#32;&#32;T5IP_0_bit&#32;=&#32;1;
136 &#32;&#32;&#32;&#32;T5IP_1_bit&#32;=&#32;1;
137 &#32;&#32;&#32;&#32;T5IP_2_bit&#32;=&#32;1;
138 &#32;&#32;&#32;&#32;PR5&#32;=&#32;854;
139 &#32;&#32;&#32;&#32;PR4&#32;=&#32;33110;
140 &#32;&#32;&#32;&#32;T4CONbits.TON&#32;=&#32;1;
141 &#32;&#32;&#32;&#32;T4CONbits.T32&#32;=&#32;1;
142 }
143 
<link linkend="_instrument_8c_1aa239e8ff1adf33ccc97f9429e83ac00a">145 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1aa239e8ff1adf33ccc97f9429e83ac00a">StopInstrumentMonitor</link>()&#32;{
146 &#32;&#32;&#32;&#32;T5IE_bit&#32;=&#32;0;
147 &#32;&#32;&#32;&#32;T5IF_bit&#32;=&#32;0;
148 
149 &#32;&#32;&#32;&#32;T4IE_bit&#32;=&#32;0;
150 &#32;&#32;&#32;&#32;T4IF_bit&#32;=&#32;0;
151 }
152 
<link linkend="_instrument_8c_1aef2657ae0e96da42122431f360a771b0">154 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1aef2657ae0e96da42122431f360a771b0">InstrumentMonitor</link>()&#32;iv&#32;IVT_ADDR_T5INTERRUPT&#32;{
155 &#32;&#32;&#32;&#32;T5IF_bit&#32;=&#32;0;
156 
157 &#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1acc6aec4a2abf80dab4cc10d24fee24d6">QueryGeneratorMode</link>();
158 }
159 
160 <emphasis class="comment">//***********************&#32;Private&#32;functions&#32;******************************</emphasis>
161 
<link linkend="_instrument_8c_1a7ccf8090b585b1cca5658182baa14818">163 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a7ccf8090b585b1cca5658182baa14818">UpdateState</link>()&#32;{
164 
165 &#32;&#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>&#32;_str[4];
166 &#32;&#32;&#32;&#32;IntToStr(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>,&#32;_str);
167 &#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;EXPOSURE&#32;MODE:&#32;&#32;&quot;</emphasis>);
168 &#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(_str);
169 
170 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;if&#32;command&#32;was&#32;warm-up?</emphasis>
171 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;==&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba1fa9ae4b007f8a05391610e82841ba29">DISP_STR_WRM</link>)
172 &#32;&#32;&#32;&#32;{
173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;If&#32;no&#32;exposure?</emphasis>
174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;==&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">GEN_NO_EXPO</link>)
175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Warmup&#32;finished</emphasis>
177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ac6881bffd08da680e8c46c377762d703">DisplayServiceModePendingState</link>();
178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1adbb4af99d58174947214b531e2cbd45c">SetGeneratorInUserMode</link>();
179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a37d600cef94b18570da0dafbb3194db5">InitParameterBoard</link>();&#32;<emphasis class="comment">//&#32;show&#32;the&#32;values;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba213b7bb27185238a3594308180970d8a">DISP_NO_CMD</link>;
181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1aa239e8ff1adf33ccc97f9429e83ac00a">StopInstrumentMonitor</link>();
182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
184 &#32;&#32;&#32;&#32;}
185 
186 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;if&#32;command&#32;was&#32;start&#32;exposure?</emphasis>
187 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;==&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba0528fce503464b493abbc6a1a30fe015">DISP_STR_EXP</link>)
188 &#32;&#32;&#32;&#32;{
189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;==&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">GEN_NO_EXPO</link>)
190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Exposure&#32;finished</emphasis>
192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ac6881bffd08da680e8c46c377762d703">DisplayServiceModePendingState</link>();
193 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1adbb4af99d58174947214b531e2cbd45c">SetGeneratorInUserMode</link>();
194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a37d600cef94b18570da0dafbb3194db5">InitParameterBoard</link>();&#32;<emphasis class="comment">//&#32;show&#32;the&#32;values;&#32;</emphasis>
195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a91a5f8567f150810290d2fcce6cc8d32">StopMotor</link>();
196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba213b7bb27185238a3594308180970d8a">DISP_NO_CMD</link>;
197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1aa239e8ff1adf33ccc97f9429e83ac00a">StopInstrumentMonitor</link>();
198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
200 &#32;&#32;&#32;&#32;}
201 
202 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;if&#32;command&#32;was&#32;start&#32;exposure?</emphasis>
203 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;==&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511babe99c9d8f5315de6e9dda1234244d325">DISP_STP_EXP</link>)
204 &#32;&#32;&#32;&#32;{
205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Exposure&#32;finished</emphasis>
206 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ac6881bffd08da680e8c46c377762d703">DisplayServiceModePendingState</link>();
207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1adbb4af99d58174947214b531e2cbd45c">SetGeneratorInUserMode</link>();
208 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a37d600cef94b18570da0dafbb3194db5">InitParameterBoard</link>();&#32;<emphasis class="comment">//&#32;show&#32;the&#32;values;&#32;</emphasis>
209 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a91a5f8567f150810290d2fcce6cc8d32">StopMotor</link>();
210 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba213b7bb27185238a3594308180970d8a">DISP_NO_CMD</link>;
211 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1aa239e8ff1adf33ccc97f9429e83ac00a">StopInstrumentMonitor</link>();
212 
213 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
214 &#32;&#32;&#32;&#32;}
215 
216 }
217 
218 
219 <emphasis class="comment">//************************&#32;Generator&#32;Listeners&#32;***************************</emphasis>
<link linkend="_instrument_8c_1a9638a1c27e8bfd0c2fb002b4448ca230">221 </link><emphasis class="comment"></emphasis><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a9638a1c27e8bfd0c2fb002b4448ca230">OnGeneratorMessageEventTriggered</link>(<emphasis class="keywordtype">char</emphasis>*&#32;msg)
222 {
223 
224 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
225 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;SENT:&#32;&quot;</emphasis>);
226 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(msg);
227 <emphasis class="preprocessor">#endif</emphasis>
228 &#32;&#32;&#32;<emphasis class="comment">//strcpy(__GEN_STAT.GenMsg,&#32;msg);</emphasis>
229 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1acffb6e8e6adb7d93362336c4c936f246">GenErrMsg</link>[0]&#32;=&#32;0;
230 &#32;&#32;&#32;strcat(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1ae320a27fd5f5ff340abf6222918392bf">GenMsg</link>,&#32;msg);
231 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
232 }
<link linkend="_instrument_8c_1abd73869307313dd276a760adb01ecd84">234 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1abd73869307313dd276a760adb01ecd84">OnGeneratorExposureStopedEventTriggered</link>()
235 {
236 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
237 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;EXPOSURE&#32;STOPED.&quot;</emphasis>);
238 <emphasis class="preprocessor">#endif</emphasis>
239 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">GEN_NO_EXPO</link>;
240 <emphasis class="keywordflow">return</emphasis>;
241 }
<link linkend="_instrument_8c_1a87fae197dd4bf032daa58e25bd27b960">243 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a87fae197dd4bf032daa58e25bd27b960">OnGeneratorKvpUpdatedEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;kvp)
244 {
245 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
246 &#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>&#32;_str[4];
247 &#32;&#32;&#32;IntToStr(kvp,_str);
248 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;KVP:&#32;&#32;&quot;</emphasis>);
249 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(_str);&#32;&#32;&#32;
250 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
251 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1acad684317530204f542d4c3a38a2bd14">Kvp</link>&#32;=&#32;kvp;
252 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
253 }
<link linkend="_instrument_8c_1af47e8c6db4aa181276e336d2ba52aa5b">255 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1af47e8c6db4aa181276e336d2ba52aa5b">OnGeneratorModeEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;mode)
256 {
257 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
258 &#32;&#32;&#32;&#32;<emphasis class="comment">//char&#32;_str[4];</emphasis>
259 &#32;&#32;&#32;&#32;<emphasis class="comment">//IntToStr(mode,_str);</emphasis>
260 &#32;&#32;&#32;&#32;<emphasis class="comment">//SendDebugMsg(&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;SENT&#32;MODE:&#32;&#32;&quot;);</emphasis>
261 &#32;&#32;&#32;&#32;<emphasis class="comment">//SendDebugMsg(_str);</emphasis>
262 <emphasis class="preprocessor">#endif</emphasis>
263 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;I&#32;use&#32;just&#32;cases&#32;0&#32;&amp;&#32;4</emphasis>
264 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">switch</emphasis>&#32;(mode)
265 &#32;&#32;&#32;&#32;{
266 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">case</emphasis>&#32;0:
267 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a36c2e87ec6b6e3bac777cfdf1ce52b9b">GEN_NO_EXPO</link>;
268 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">break</emphasis>;
269 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">case</emphasis>&#32;1:
270 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a93053adea44e6fc53ecd95c9679836d4">GEN_KEY2</link>;
271 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">break</emphasis>;
272 
273 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">case</emphasis>&#32;2:
274 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a2e665a39626a498bfe84e714c9bbcc98">GEN_PRE</link>;
275 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">break</emphasis>;
276 
277 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">case</emphasis>&#32;3:
278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2af931d7ba35af5b59ab40991445c3ddb3">GEN_SWC_NF</link>;
279 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">break</emphasis>;
280 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">case</emphasis>&#32;4:
281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a325d635cf0a00c4c5a00470ff220eb54">GEN_EXPOSING</link>;
282 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">break</emphasis>;
283 &#32;&#32;&#32;&#32;}
284 &#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a7ccf8090b585b1cca5658182baa14818">UpdateState</link>();
285 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
286 }
<link linkend="_instrument_8c_1a3fa404eaddbc4e2b26068456a255ae80">288 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a3fa404eaddbc4e2b26068456a255ae80">OnGeneratormAUpdatedEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;amp)
289 {
290 <emphasis class="preprocessor">&#32;&#32;#if&#32;build&#32;==&#32;debug</emphasis>
291 &#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>&#32;_str[4];
292 &#32;&#32;&#32;IntToStr(amp,_str);
293 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;mA:&#32;&#32;&quot;</emphasis>);
294 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(_str);
295 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
296 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a24ef6040c522c6f97f1db1d05fb49bc9">mA</link>&#32;=&#32;amp;
297 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
298 }
<link linkend="_instrument_8c_1a4bc165a5cc6c324b8395c8d65745c4db">300 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a4bc165a5cc6c324b8395c8d65745c4db">OnGeneratorPassedExposureTimeEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;passedTime)
301 {
302 <emphasis class="preprocessor">&#32;&#32;#if&#32;build&#32;==&#32;debug</emphasis>
303 &#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>&#32;_str[4];
304 &#32;&#32;&#32;IntToStr(passedTime,_str);
305 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;PASSED&#32;TIME:&#32;&#32;&quot;</emphasis>);
306 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(_str);
307 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
308 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1af6f8dff545b8abe1cf131cd3e050c8fc">PassedExposureTime</link>&#32;=&#32;passedTime;
309 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
310 
311 }
<link linkend="_instrument_8c_1a23be80842ff571441a39b44cf52880b5">313 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a23be80842ff571441a39b44cf52880b5">OnGeneratorShootTimeEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;shootTime)
314 {
315 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
316 &#32;&#32;&#32;<emphasis class="keywordtype">char</emphasis>&#32;_str[4];
317 &#32;&#32;&#32;IntToStr(shootTime,_str);
318 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;SHOOT&#32;TIME:&#32;&#32;&quot;</emphasis>);
319 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(_str);
320 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
321 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a7128626deeddd04ba49d46fab6fee7ca">ShootTime</link>&#32;=&#32;shootTime;
322 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
323 }
<link linkend="_instrument_8c_1ad846dbf655cde950b44e287102b8f1f0">325 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1ad846dbf655cde950b44e287102b8f1f0">OnGeneratorExposureStartedEventTriggered</link>()
326 {
327 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
328 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;EXPOSURE&#32;STARTED.&quot;</emphasis>);
329 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
330 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aeae90d0d64a2bc12a5d84a3641cfb0f0">GenExpMode</link>&#32;=&#32;<link linkend="_instrument_8c_1a0a0a6ad3ca0fd908a8a84e98eccb2bf2a325d635cf0a00c4c5a00470ff220eb54">GEN_EXPOSING</link>;
331 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
332 }
<link linkend="_instrument_8c_1ad242fcaf9f6b4a2b1495c37af301ce96">334 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1ad242fcaf9f6b4a2b1495c37af301ce96">OnGeneratorErrorEventTriggered</link>(<emphasis class="keywordtype">char</emphasis>*&#32;error)
335 {
336 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug&#32;&#32;</emphasis>
337 &#32;&#32;&#32;<emphasis class="comment">//char&#32;_str[4];</emphasis>
338 &#32;&#32;&#32;<emphasis class="comment">//SendDebugMsg(&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;SENT&#32;ERROR:&#32;&#32;&quot;);</emphasis>
339 &#32;&#32;&#32;&#32;<emphasis class="comment">//SendDebugMsg(error);</emphasis>
340 &#32;&#32;&#32;<emphasis class="comment">//SendDebugMsg(&quot;\r&quot;);</emphasis>
341 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
342 &#32;&#32;<emphasis class="comment">//__GEN_STAT.GenErrMsg[0]=0;</emphasis>
343 &#32;&#32;<emphasis class="comment">//strcat(&#32;__GEN_STAT.GenErrMsg,error);</emphasis>
344 &#32;&#32;&#32;<emphasis class="comment">//strcpy(__GEN_STAT.GenErrMsg,&#32;error);</emphasis>
345 &#32;&#32;&#32;<emphasis class="comment">//__GEN_STAT.GenErr&#32;=&#32;GEN_ERR;</emphasis>
346 
347 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
348 }
<link linkend="_instrument_8c_1a11a6cb180b6dbb99619e1aea04743a36">350 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a11a6cb180b6dbb99619e1aea04743a36">OnGeneratorWarmupFinishedEventTriggered</link>()
351 {
352 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
353 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;WARMUP&#32;FINISHED.&quot;</emphasis>);
354 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
355 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>&#32;=&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8a135d1f2c531aaa7865d08d6b9bfcb6cc">GEN_NO_WRM</link>;
356 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
357 }
<link linkend="_instrument_8c_1a641dbae7f2049f9362fb83c22fe023f7">359 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a641dbae7f2049f9362fb83c22fe023f7">OnGeneratorRequiresShortWarmupEventTriggered</link>()
360 {
361 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
362 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;REQUIRES&#32;SHORT&#32;WARMUP.&quot;</emphasis>);
363 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
364 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>&#32;=&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8aaf14caafd4c6d40d91a0d433966be679">GEN_WRM_SRT</link>;
365 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
366 }
<link linkend="_instrument_8c_1a1117b5233c95cb1b2ca9f611dd129816">368 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a1117b5233c95cb1b2ca9f611dd129816">OnGeneratorRequiresLongWarmupEventTriggered</link>()
369 {
370 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
371 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;REQUIRES&#32;LONG&#32;WARMUP.&quot;</emphasis>);
372 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
373 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>&#32;=&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8ade08f5f4269ef03f6e5a99e9e523a593">GEN_WRM_LNG</link>;
374 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
375 }
<link linkend="_instrument_8c_1a5012d43bdbc97bae1fa8899667288c2b">377 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a5012d43bdbc97bae1fa8899667288c2b">OnGeneratorLargFocalSpotSizeEventTriggered</link>()
378 {
379 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
380 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;BROAD&#32;FOCAL-SPOT.&quot;</emphasis>);&#32;&#32;&#32;
381 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
382 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1adc2018c98e814cd74a4fdc3aff85ee65">GenFcl</link>&#32;=&#32;<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2aafe76023068c2d6e16216c29722815dd">GEN_BRD_FCL</link>;
383 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
384 }
<link linkend="_instrument_8c_1a4fc6a736dd04d1d1b63b0f583eb9ea17">386 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a4fc6a736dd04d1d1b63b0f583eb9ea17">OnGeneratorSmallFocalSpotSizeEventTriggered</link>()
387 {
388 <emphasis class="preprocessor">&#32;&#32;#if&#32;build==debug</emphasis>
389 &#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;GENERATOR&#32;FINE&#32;FOCAL-SPOT.&quot;</emphasis>);&#32;&#32;&#32;
390 <emphasis class="preprocessor">&#32;&#32;#endif</emphasis>
391 &#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1adc2018c98e814cd74a4fdc3aff85ee65">GenFcl</link>&#32;=&#32;<link linkend="_instrument_8c_1acc83001a39eb4fd4e0d7731f807de9c2a8bfd4ffb253d5c3dc65c4dfc949581be">GEN_FIN_FCL</link>;
392 &#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
393 }
394 
395 <emphasis class="comment">//****************************&#32;Stone&#32;LCD&#32;Listeners&#32;*********************</emphasis>
396 
<link linkend="_instrument_8c_1afc7eb1e24524218010de53587a3b298b">398 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1afc7eb1e24524218010de53587a3b298b">OnDisplayStartAutomaticModeEventTriggered</link>()
399 {
400 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
401 &#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;DISPLAY&#32;IN&#32;AUTOMATIC&#32;MODE.&quot;</emphasis>);
402 <emphasis class="preprocessor">#endif</emphasis>
403 &#32;&#32;&#32;&#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a8aadcc7541a9e80b0359d16f69cf8236">DispScr</link>&#32;=&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551ad1013f4b5b013c4c8f691cca71710959">DISP_AUTO_SCR</link>;
404 &#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
405 }
<link linkend="_instrument_8c_1a59c5d6f4d42a37843db343a7041eadc5">407 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a59c5d6f4d42a37843db343a7041eadc5">OnDisplayGotoHomeEventTriggered</link>()
408 {
409 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
410 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;HOME&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
411 <emphasis class="preprocessor">#endif</emphasis>
412 &#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a8aadcc7541a9e80b0359d16f69cf8236">DispScr</link>&#32;=&#32;<link linkend="_instrument_8c_1a5e9ecb1d572f0c8d6aa7f5a2a4249551a84b1e56a5fdb2c268151c1d5618e496c">DISP_HOME</link>;
413 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
414 }
<link linkend="_instrument_8c_1a3f70ca48cf29b08368f959f8af8638aa">416 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a3f70ca48cf29b08368f959f8af8638aa">OnDisplayStartExposureEventTriggered</link>()
417 {
418 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
419 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;START&#32;EXPOSURE&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
420 <emphasis class="preprocessor">#endif</emphasis>
421 &#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ad7b66eeb3ec69bd31f24b16e7d55bcae">DisplayServiceModeWorkingState</link>();
422 &#32;&#32;&#32;&#32;
423 &#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1adbb4af99d58174947214b531e2cbd45c">SetGeneratorInUserMode</link>();
424 &#32;&#32;&#32;&#32;Delay_ms(20);
425 
426 &#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1a2739ffd6c208395bf3e9563592f410c9">UpdateKvp</link>(__GEN_STAT.kvp);
427 &#32;&#32;&#32;&#32;Delay_ms(20);
428 &#32;&#32;&#32;&#32;
429 &#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1ae6da7f07c0176169fc6e31a6636bbb4b">UpdateAmp</link>(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a24ef6040c522c6f97f1db1d05fb49bc9">mA</link>);
430 &#32;&#32;&#32;&#32;Delay_ms(20);
431 &#32;&#32;&#32;&#32;
432 &#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1a3946c95c3a1aa7e04793954f945e832a">UpdateShootTime</link>(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a7128626deeddd04ba49d46fab6fee7ca">ShootTime</link>);
433 &#32;&#32;&#32;&#32;Delay_ms(20);
434 &#32;&#32;&#32;&#32;
435 &#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a81608561a43bf2a44671ad65c2b3311c">TurnOffSliderMotor</link>();
436 &#32;&#32;&#32;&#32;Delay_ms(20);
437 &#32;&#32;&#32;&#32;
438 &#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a7796779a0cfc1087d269785a1ae10427">SetSliderMotorSpeed</link>(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aff7521f9de16184d969636f3fc177aec">Jog</link>);
439 &#32;&#32;&#32;&#32;Delay_ms(20);
440 &#32;&#32;&#32;&#32;
441 &#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a1be24a1b6189ea6e9161c93c400770ae">TurnOnSliderMotor</link>();
442 &#32;&#32;&#32;&#32;Delay_ms(20);
443 
444 &#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a1717f9911c674bf81afee0b513f6de37">RotateSliderMotorClockwise</link>();
445 &#32;&#32;&#32;&#32;&#32;
446 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
447 &#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1ac549b847f1e073981dd7276f042ceff9">StartExposure</link>();
448 &#32;&#32;&#32;&#32;Delay_ms(20);
449 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
450 &#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba0528fce503464b493abbc6a1a30fe015">DISP_STR_EXP</link>;
451 
452 &#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ad442830d468e8519958f61a9fe8b68cb">StartInstrumentMonitor</link>();
453 
454 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
455 }
<link linkend="_instrument_8c_1a99167e2622817354b957f27ce2efae18">457 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a99167e2622817354b957f27ce2efae18">OnDisplayStopExposureEventTriggered</link>()
458 {
459 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
460 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;STOP&#32;EXPOSURE&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
461 <emphasis class="preprocessor">#endif</emphasis>
462 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511babe99c9d8f5315de6e9dda1234244d325">DISP_STP_EXP</link>;
463 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//The&#32;Instrument&#32;monitor&#32;is&#32;not&#32;stoped&#32;</emphasis>
464 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;thus&#32;the&#32;mode&#32;checking&#32;and&#32;system&#32;update&#32;are</emphasis>
465 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;executed&#32;next.</emphasis>
466 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;The&#32;rest&#32;is&#32;done&#32;inside&#32;UpdateState()</emphasis>
467 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
468 }
<link linkend="_instrument_8c_1a5f47e92cf4585e7c569eab9d0bab16df">470 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a5f47e92cf4585e7c569eab9d0bab16df">OnDisplayStartWarmupEventTriggered</link>()
471 {
472 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
473 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;START&#32;WARMUP&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
474 <emphasis class="preprocessor">#endif</emphasis>
475 
476 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>&#32;==&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8a135d1f2c531aaa7865d08d6b9bfcb6cc">GEN_NO_WRM</link>)&#32;<emphasis class="comment">//&#32;no&#32;warmup</emphasis>
477 &#32;&#32;&#32;&#32;{&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
478 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ac6881bffd08da680e8c46c377762d703">DisplayServiceModePendingState</link>();
479 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1adbb4af99d58174947214b531e2cbd45c">SetGeneratorInUserMode</link>();
480 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a37d600cef94b18570da0dafbb3194db5">InitParameterBoard</link>();&#32;<emphasis class="comment">//&#32;show&#32;the&#32;values;&#32;</emphasis>
481 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
482 &#32;&#32;&#32;&#32;}
483 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>&#32;==&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8aaf14caafd4c6d40d91a0d433966be679">GEN_WRM_SRT</link>)&#32;<emphasis class="comment">//&#32;short&#32;warmup</emphasis>
484 &#32;&#32;&#32;&#32;{
485 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a5371889296412e101c1f3a004f449cf5">DisplayServiceModeWarmingupState</link>();
486 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1a28d0fba12b3f30ffd4ff75bbe7d97bdc">StartShortTermWarmup</link>();
487 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ad442830d468e8519958f61a9fe8b68cb">StartInstrumentMonitor</link>();&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
488 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
489 &#32;&#32;&#32;&#32;}
490 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;(__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a02ba334e408100ad0014afefc2485bbe">GenWrmPrg</link>&#32;==&#32;<link linkend="_instrument_8c_1a00569347f0e8acf61061534ffff3e6e8ade08f5f4269ef03f6e5a99e9e523a593">GEN_WRM_LNG</link>)&#32;<emphasis class="comment">//long&#32;warmup</emphasis>
491 &#32;&#32;&#32;&#32;{
492 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a5371889296412e101c1f3a004f449cf5">DisplayServiceModeWarmingupState</link>();
493 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1a46e773d024d2106424c1ac4ee45e331b">StartLongTermWarmup</link>();
494 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1ad442830d468e8519958f61a9fe8b68cb">StartInstrumentMonitor</link>();&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
495 &#32;&#32;&#32;&#32;}
496 &#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba1fa9ae4b007f8a05391610e82841ba29">DISP_STR_WRM</link>;
497 &#32;&#32;&#32;&#32;<emphasis class="comment">//StartInstrumentMonitor();</emphasis>
498 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
499 }
<link linkend="_instrument_8c_1a3960e26ab66c45b3446bf50cfab91e78">501 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a3960e26ab66c45b3446bf50cfab91e78">OnDisplayUpdateKvpEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;kvp)
502 {
503 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
504 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;UPDATE&#32;KVP&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
505 <emphasis class="preprocessor">#endif</emphasis>
506 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1acad684317530204f542d4c3a38a2bd14">Kvp</link>&#32;=&#32;kvp;
507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba477eca8734318248b810482cf2ceb809">DISP_UDT_KVP</link>;
508 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
509 }
<link linkend="_instrument_8c_1ad3d7aa1f2e8173c423aab6268e6193f2">511 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1ad3d7aa1f2e8173c423aab6268e6193f2">OnDisplayUpdatemAEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;ma)
512 {
513 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;mA&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
515 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
516 <emphasis class="preprocessor">#endif</emphasis>
517 &#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a24ef6040c522c6f97f1db1d05fb49bc9">mA</link>&#32;=&#32;ma;
518 &#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511ba292ff031806faf29cc8f69c646500e24">DISP_UDT_mA</link>;
519 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
520 }
<link linkend="_instrument_8c_1a59ef45cf7c6e27c0813bf55bd5079753">522 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a59ef45cf7c6e27c0813bf55bd5079753">OnDisplayUpdateTimeEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;time)
523 {
524 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;EXPOSURE&#32;TIME&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
526 <emphasis class="preprocessor">#endif</emphasis>
527 &#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1a7128626deeddd04ba49d46fab6fee7ca">ShootTime</link>&#32;=&#32;time;
528 &#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baf687ff79ec7d43360677b0bb6c75ad91">DISP_UDT_TM</link>;
529 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
530 }
<link linkend="_instrument_8c_1aa94400d915b7eb851cfca7e9d8e220e0">532 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1aa94400d915b7eb851cfca7e9d8e220e0">OnDisplayUpdateJOGEventTriggered</link>(<emphasis class="keywordtype">int</emphasis>&#32;time)
533 {
534 <emphasis class="preprocessor">#if&#32;build==debug</emphasis>
535 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_connection_map_8h_1a057c92e4c30690f2618df7d1814fabf0">SendDebugMsg</link>(<emphasis class="stringliteral">&quot;\r&#32;&#32;&#32;&#32;&gt;&gt;&#32;JOG&#32;BUTTON&#32;ON&#32;DISPLAY&#32;PRESSED.&quot;</emphasis>);
536 <emphasis class="preprocessor">#endif</emphasis>
537 &#32;&#32;&#32;&#32;__GEN_STAT.<link linkend="struct_g_e_n___s_t_a_t_e_1aff7521f9de16184d969636f3fc177aec">Jog</link>&#32;=&#32;time;
538 &#32;&#32;&#32;&#32;__DISP_STAT.<link linkend="struct_d_i_s_p___s_t_a_t_e_1a645e5556d0f7f16a2d1239ab815951a5">DispCmd</link>&#32;=&#32;<link linkend="_instrument_8c_1ab38156ce3b27d67dd5e4d2ad7fc2511baa604dc3ac06b636166edab370850721d">DISP_UDT_JOG</link>;
539 &#32;&#32;&#32;&#32;<emphasis class="keywordflow">return</emphasis>;
540 }
541 
<link linkend="_instrument_8c_1ae9f840c897f8c1814b774c59eceb01f3">543 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1ae9f840c897f8c1814b774c59eceb01f3">ResetSystem</link>()
544 {
545 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;STEP1:&#32;STOP&#32;GENERATOR</emphasis>
546 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1abb608877dc715ca117536e8ea8b0a111">ResetGenerator</link>();
547 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
548 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;STEP2:&#32;STOP&#32;MOTOR</emphasis>
549 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a91a5f8567f150810290d2fcce6cc8d32">StopMotor</link>();
550 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_delta_servo_a_p_i_8h_1a7796779a0cfc1087d269785a1ae10427">SetSliderMotorSpeed</link>(<link linkend="_delta_servo_a_p_i_8h_1a70a2c25b73b13884d92616c782f30f4e">MIN_MOTOR_JOG</link>);
551 
552 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;STEP3:&#32;INITIALIZE&#32;DISPLAY</emphasis>
553 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a902c1af74cbe0cfb10248b7618de7022">InitDisplay</link>();
554 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a50de73c57a4a139c15f4851ac1b58415">ShowMainMenue</link>();
555 }
556 
<link linkend="_instrument_8h_1a44183aa55ed986e78680ae1fec9ec93a">558 </link><emphasis class="keywordtype">void</emphasis>&#32;<link linkend="_instrument_8c_1a44183aa55ed986e78680ae1fec9ec93a">StartInstrument</link>()
559 {
560 &#32;&#32;&#32;&#32;<emphasis class="keywordtype">int</emphasis>&#32;index&#32;=&#32;0;
561 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Register&#32;Generator&#32;to&#32;the&#32;kernel</emphasis>
562 &#32;&#32;&#32;&#32;<link linkend="struct_d_e_v_i_c_e___s_l_o_t">DEVICE_SLOT</link>&#32;_genslot,_actslot,&#32;_dislot&#32;;
563 &#32;&#32;&#32;&#32;_genslot.<link linkend="struct_d_e_v_i_c_e___s_l_o_t_1acaef663101fbc6dccf5014851d1cecd6">device</link>&#32;=&#32;GENERATOR;
564 &#32;&#32;&#32;&#32;_genslot.<link linkend="struct_d_e_v_i_c_e___s_l_o_t_1a2e75310ca6d52cb0e1d07a1000a86436">handler</link>&#32;=&#32;<link linkend="_gulmay_a_p_i_8h_1aa7270f2beb762972ec1966e9eb4b5616">GeneratorProcessKernelFrame</link>;
565 &#32;&#32;&#32;&#32;<link linkend="_kernel_8c_1afb489dd6da8fe88cf4a97f5c5e072927">KL_RegisterDevice</link>(_genslot);&#32;<emphasis class="comment">//&#32;register&#32;to&#32;event&#32;handlers</emphasis>
566 
567 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Register&#32;Display&#32;to&#32;the&#32;kernel</emphasis>
568 &#32;&#32;&#32;&#32;_dislot.<link linkend="struct_d_e_v_i_c_e___s_l_o_t_1acaef663101fbc6dccf5014851d1cecd6">device</link>&#32;=&#32;DISPLAY;
569 &#32;&#32;&#32;&#32;_dislot.<link linkend="struct_d_e_v_i_c_e___s_l_o_t_1a2e75310ca6d52cb0e1d07a1000a86436">handler</link>&#32;=&#32;<link linkend="_stone_a_p_i_8h_1abdb1785bf497531b4a561ea6999d8260">DisplayProcessKernelFrame</link>;
570 &#32;&#32;&#32;&#32;<link linkend="_kernel_8c_1afb489dd6da8fe88cf4a97f5c5e072927">KL_RegisterDevice</link>(_dislot);
571 &#32;&#32;&#32;&#32;
572 
573 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Register&#32;Actuator&#32;to&#32;the&#32;kernel</emphasis>
574 &#32;&#32;&#32;&#32;_actslot.<link linkend="struct_d_e_v_i_c_e___s_l_o_t_1acaef663101fbc6dccf5014851d1cecd6">device</link>&#32;=&#32;ACTUATOR;
575 &#32;&#32;&#32;&#32;_actslot.<link linkend="struct_d_e_v_i_c_e___s_l_o_t_1a2e75310ca6d52cb0e1d07a1000a86436">handler</link>&#32;=ActuatorProcessKernelFrame;
576 &#32;&#32;&#32;&#32;<link linkend="_kernel_8c_1afb489dd6da8fe88cf4a97f5c5e072927">KL_RegisterDevice</link>(_actslot);
577 &#32;&#32;&#32;&#32;
578 &#32;&#32;&#32;&#32;
579 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;Handel&#32;Generator&#32;events</emphasis>
580 &#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1ac5d01c6ebb446d070401697563c27f97">RegisterMessageListener</link>(<link linkend="_instrument_8c_1a9638a1c27e8bfd0c2fb002b4448ca230">OnGeneratorMessageEventTriggered</link>);
581 &#32;&#32;&#32;&#32;
582 &#32;&#32;&#32;<emphasis class="comment">//RegisterErrorListener(OnGeneratorErrorEventTriggered);</emphasis>
583 &#32;&#32;&#32;&#32;
584 &#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1ad8857dcb2550f6b2ab1ea1745044be4c">RegisterGeneratorModeListener</link>(<link linkend="_instrument_8c_1af47e8c6db4aa181276e336d2ba52aa5b">OnGeneratorModeEventTriggered</link>);
585 &#32;&#32;&#32;&#32;
586 &#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1a6537404a8cbbeab00b3f6fb3b7e04a24">RegisterFocalspotListeners</link>(&#32;<link linkend="_instrument_8c_1a5012d43bdbc97bae1fa8899667288c2b">OnGeneratorLargFocalSpotSizeEventTriggered</link>,
587 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a4fc6a736dd04d1d1b63b0f583eb9ea17">OnGeneratorSmallFocalSpotSizeEventTriggered</link>&#32;);
588 &#32;&#32;&#32;&#32;
589 &#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1abac22860be7c048152d41af0899a5d67">RegisterExposureStateListeners</link>(&#32;<link linkend="_instrument_8c_1ad846dbf655cde950b44e287102b8f1f0">OnGeneratorExposureStartedEventTriggered</link>,
590 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a4bc165a5cc6c324b8395c8d65745c4db">OnGeneratorPassedExposureTimeEventTriggered</link>,
591 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1abd73869307313dd276a760adb01ecd84">OnGeneratorExposureStopedEventTriggered</link>&#32;);
592 &#32;&#32;&#32;&#32;
593 &#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1ac2e42f9cf31e8451ea55a8584f200b19">RegisterExposureParameterListeners</link>(&#32;<link linkend="_instrument_8c_1a87fae197dd4bf032daa58e25bd27b960">OnGeneratorKvpUpdatedEventTriggered</link>,
594 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a3fa404eaddbc4e2b26068456a255ae80">OnGeneratormAUpdatedEventTriggered</link>,
595 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a23be80842ff571441a39b44cf52880b5">OnGeneratorShootTimeEventTriggered</link>);
596 &#32;&#32;&#32;&#32;
597 &#32;&#32;&#32;<link linkend="_gulmay_a_p_i_8h_1ae475af8e61d9df377a66dbcbd352811d">RegisterWarmupListeners</link>(&#32;<link linkend="_instrument_8c_1a641dbae7f2049f9362fb83c22fe023f7">OnGeneratorRequiresShortWarmupEventTriggered</link>,
598 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a1117b5233c95cb1b2ca9f611dd129816">OnGeneratorRequiresLongWarmupEventTriggered</link>,
599 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_instrument_8c_1a11a6cb180b6dbb99619e1aea04743a36">OnGeneratorWarmupFinishedEventTriggered</link>&#32;);
600 
601 &#32;&#32;&#32;<emphasis class="comment">//Handel&#32;Display&#32;events</emphasis>
602 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1aee1ecb5c9fc7ab3bc77a61012c379aba">RegisterStartAutomaticModeSessionListener</link>(<link linkend="_instrument_8c_1afc7eb1e24524218010de53587a3b298b">OnDisplayStartAutomaticModeEventTriggered</link>);
603 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ad462a944099154337a431650f631c5af">RegisterGotoHomeListener</link>(<link linkend="_instrument_8c_1a59c5d6f4d42a37843db343a7041eadc5">OnDisplayGotoHomeEventTriggered</link>);
604 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1afbdbc3ff988fb466aa824e5a3f01ccf8">RegisterStartExposureListener</link>(<link linkend="_instrument_8c_1a3f70ca48cf29b08368f959f8af8638aa">OnDisplayStartExposureEventTriggered</link>);
605 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a1c11ed6f8ecd59615298403f6c5daddd">RegisterStopExposureListener</link>(<link linkend="_instrument_8c_1a99167e2622817354b957f27ce2efae18">OnDisplayStopExposureEventTriggered</link>);
606 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a2e4e3c258a026cb0595f02be2be19a09">RegisterStartWarmupEventListener</link>(<link linkend="_instrument_8c_1a5f47e92cf4585e7c569eab9d0bab16df">OnDisplayStartWarmupEventTriggered</link>);
607 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a93a23fc41f3963ad8cdfef4c878c8b70">RegisterUpdateKvpEventListener</link>(<link linkend="_instrument_8c_1a3960e26ab66c45b3446bf50cfab91e78">OnDisplayUpdateKvpEventTriggered</link>);
608 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1aea4fdecae805e4c2a5a922c8a90ee906">RegisterUpdatemAEventListener</link>(<link linkend="_instrument_8c_1ad3d7aa1f2e8173c423aab6268e6193f2">OnDisplayUpdatemAEventTriggered</link>);
609 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ade8911e6ef98b92aea3f077c2404a419">RegisterUpdateTimeEventListener</link>(<link linkend="_instrument_8c_1a59ef45cf7c6e27c0813bf55bd5079753">OnDisplayUpdateTimeEventTriggered</link>);
610 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1ada219a6836996fd054252b7003bea979">RegisterUpdateJOGEventListener</link>(<link linkend="_instrument_8c_1aa94400d915b7eb851cfca7e9d8e220e0">OnDisplayUpdateJOGEventTriggered</link>);
611 &#32;&#32;
612 &#32;&#32;&#32;<emphasis class="comment">//&#32;Set&#32;display&#32;parameters</emphasis>
613 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a30cc244ba2a37ad4c495620b9f8a00dc">SetKvpBoundaries</link>(<link linkend="_gulmay_a_p_i_8h_1a93b11c2c97d25a712b1b1ad47647204c">MIN_KVP</link>&#32;,<link linkend="_gulmay_a_p_i_8h_1a08cc0951c183e99e05ff47f230721892">MAX_KVP</link>);
614 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1aa121dee7134d8fcf78e5db9ce91ed1a1">SetmABoundaries</link>(<link linkend="_gulmay_a_p_i_8h_1a51e5b8cb44b406747ac85a94a82e0d4c">MIN_mAMP</link>,<link linkend="_gulmay_a_p_i_8h_1a8953300db9a1c7b2e78094b16525bce8">MAX_mAMP</link>);
615 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1a27b4f33b9e0dac43cd57d0de8d76d433">SetTimeBoundaries</link>(<link linkend="_gulmay_a_p_i_8h_1ae9834f5fc94c8ce2c8cae348de2a35fa">MIN_EXPOSURE_TIME</link>,<link linkend="_gulmay_a_p_i_8h_1a2c2d24d812e1e26c7ade9c404b844f11">MAX_EXPOSURE_TIME</link>);
616 &#32;&#32;&#32;<link linkend="_stone_a_p_i_8h_1aecee82983f45b0a31928ff1babb52dbb">SetJogBoundaries</link>(<link linkend="_delta_servo_a_p_i_8h_1a70a2c25b73b13884d92616c782f30f4e">MIN_MOTOR_JOG</link>,<link linkend="_delta_servo_a_p_i_8h_1a0faedf55ff9b2ec1ec564cb197ca5838">MAX_MOTOR_JOG</link>);
617 &#32;&#32;&#32;<emphasis class="comment">//SetKvpStepSize();</emphasis>
618 &#32;&#32;&#32;<emphasis class="comment">//SetmAStepSize();</emphasis>
619 &#32;&#32;&#32;<emphasis class="comment">//SetTimeStepSize();</emphasis>
620 &#32;&#32;&#32;<emphasis class="comment">//SetJogStepSize();</emphasis>
621 
622 
623 &#32;&#32;&#32;<link linkend="_instrument_8c_1ae9f840c897f8c1814b774c59eceb01f3">ResetSystem</link>();
624 
625 &#32;&#32;&#32;<emphasis class="comment">//TurnOnSliderMotor();</emphasis>
626 &#32;&#32;&#32;<emphasis class="comment">//SetSliderMotorSpeed(800);</emphasis>
627 &#32;&#32;&#32;<emphasis class="comment">//RotateSliderMotorCounterClockwise();</emphasis>
628 
629 
630 }
    </computeroutput></literallayout>
</section>
