<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Syncbox Firmware: Firmware</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bu.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Syncbox Firmware
   &#160;<span id="projectnumber">0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Firmware </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="project_name"></a>
Project Details</h1>
<p>syncbox <br />
 </p><dl class="section copyright"><dt>Copyright</dt><dd>&copy; 2018 Bogazici University <br />
 License: GNU Public License. <br />
 Bogazici University &copy; 2018 </dd></dl>
<h1><a class="anchor" id="revision_history"></a>
Revision History</h1>
<a class="anchor" id="revision_history_tbl"></a>
<table class="doxtable">
<caption>Revision Summary</caption>
<tr>
<th>revision </th><th>details </th></tr>
<tr>
<td>0.1 </td><td>Pooling method for UART communication. </td></tr>
<tr>
<td>0.5 </td><td>RS-232 Modbus RTU commuication. </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd><b> Current Status: under development.</b> </dd></dl>
<h1><a class="anchor" id="descriptopn"></a>
Description</h1>
<p>The syncbox is a device that can control and synctonize ALL medical ( and non-medical ) X-ray machine components. Usually, these components ( but not confined ) are </p><ul>
<li>
X-ray generator </li>
<li>
X-ray detector </li>
<li>
ventilator </li>
<li>
security, alarm and switches </li>
<li>
worksation </li>
</ul>
<p>Each manufacturer has its own set of communication protocol and design specs. The aim of this synchronization box (syncbox) is to abstract away all these sort of details and let the workstation software ( we have implemented one as <a href="https://github.com/altaybrusan/ibex">iBEX</a>) be free of concerning details. At the heart of syncbox there is Computer-On-module-Express(COMe) module and a PIC24E microcontroller.The controller is responsible for high speed and accurate signalling and COMe mainly deals with detector's outputs and image processing. This project is a firmware of the PIC24E and it is responsible for communication with </p><ul>
<li>
"RS-232" based serial generator </li>
<li>
"RS-232 ModBus RTU" based actuator </li>
<li>
"RS-232" based touch screen display </li>
<li>
serial communication with worksation machine </li>
<li>
external trigger switch </li>
</ul>
<p>The code consists of a kernel and set of APIs that control the devices. Whole machine is integrated and controlled inside a section which is called instrument. Component diagram of the machine is shown bellow. </p><div class="image">
<img src="componentdiagram.png" alt="componentdiagram.png"/>
<div class="caption">
Component Diagram</div></div>
 <h1><a class="anchor" id="dev_env"></a>
Developement Environment and Tools</h1>
<a class="anchor" id="dev_env_tbl"></a>
<table class="doxtable">
<caption>Environment factors table</caption>
<tr>
<th>Factor </th><th>details </th></tr>
<tr>
<td>MCU </td><td>P24EP512GU810 </td></tr>
<tr>
<td>MCU Dev.Board </td><td>EasyPIC Fusion v.7 </td></tr>
<tr>
<td>MCU Oscillator </td><td>140.00 MHz </td></tr>
<tr>
<td>MCU Compiler </td><td>MikroC Pro for dsPIC v.7 </td></tr>
<tr>
<td>MCU Compiler </td><td>mikroC PRO for dsPIC v7.0.0 </td></tr>
<tr>
<td>MCU Ext. Modules </td><td>x </td></tr>
</table>
<h1><a class="anchor" id="refs"></a>
Refs</h1>
<p><a href="http://download.mikroe.com/documents/compilers/mikroc/dspic/help/mikroc_libraries.htm">http://download.mikroe.com/documents/compilers/mikroc/dspic/help/mikroc_libraries.htm</a> <br />
 <a href="https://github.com/altaybrusan/ibex">https://github.com/altaybrusan/ibex</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
